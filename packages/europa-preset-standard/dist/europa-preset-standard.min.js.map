{"version":3,"file":"europa-preset-standard.min.js.map","sources":["../../europa-plugin-standard-anchor/src/index.js","../../europa-plugin-standard-code/src/index.js","../../europa-plugin-standard-frame/src/index.js","../../europa-plugin-standard-heading/src/index.js","../../europa-plugin-standard-image/src/index.js","../../europa-plugin-standard-list/src/index.js","../../europa-plugin-standard-paragraph/src/index.js","../../europa-plugin-standard-block-quote/src/index.js","../../europa-plugin-standard-bold/src/index.js","../../europa-plugin-standard-description/src/index.js","../../europa-plugin-standard-details/src/index.js","../../europa-plugin-standard-horizontal-rule/src/index.js","../../europa-plugin-standard-italic/src/index.js","../../europa-plugin-standard-line-break/src/index.js","../../europa-plugin-standard-preformatted/src/index.js","../../europa-plugin-standard-quote/src/index.js"],"sourcesContent":["/*\n * Copyright (C) 2018 Alasdair Mercer, !ninja\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n'use strict';\n\nconst contextKey = 'europaPluginStandardAnchor';\n\nmodule.exports = function() {\n  return {\n    converter: {\n      A: {\n        startTag(conversion, context) {\n          const { element, options } = conversion;\n          const href = options.absolute ? element.href : element.getAttribute('href');\n          if (!href) {\n            return true;\n          }\n\n          const { anchorMap, anchors } = conversion.context[contextKey];\n          const title = element.getAttribute('title');\n          const value = title ? `${href} \"${title}\"` : href;\n          let index;\n\n          if (options.inline) {\n            context.value = `(${value})`;\n          } else {\n            index = anchorMap[value];\n            if (index == null) {\n              index = anchors.push(value) - 1;\n\n              anchorMap[value] = index;\n            }\n\n            context.value = `[anchor${index}]`;\n          }\n\n          conversion.output('[');\n\n          conversion.atNoWhiteSpace = true;\n\n          return true;\n        },\n\n        endTag(conversion, context) {\n          if (context.value != null) {\n            conversion.output(`]${context.value}`);\n          }\n        }\n      }\n    },\n\n    startConversion(conversion) {\n      conversion.context[contextKey] = {\n        anchorMap: {},\n        anchors: []\n      };\n    },\n\n    endConversion(conversion) {\n      const { anchors } = conversion.context[contextKey];\n      if (!anchors.length) {\n        return;\n      }\n\n      conversion.append('\\n\\n');\n\n      for (let i = 0; i < anchors.length; i++) {\n        conversion.append(`[anchor${i}]: ${anchors[i]}\\n`);\n      }\n    }\n  };\n};\n","/*\n * Copyright (C) 2018 Alasdair Mercer, !ninja\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n'use strict';\n\nconst codeConverter = {\n  startTag(conversion, context) {\n    context.previousInCodeBlock = conversion.inCodeBlock;\n\n    if (conversion.inPreformattedBlock) {\n      context.skipped = true;\n    } else {\n      conversion.output('`');\n\n      conversion.inCodeBlock = true;\n    }\n\n    return true;\n  },\n\n  endTag(conversion, context) {\n    if (!context.skipped) {\n      conversion.inCodeBlock = context.previousInCodeBlock;\n\n      conversion.output('`');\n    }\n  }\n};\n\nmodule.exports = function() {\n  return {\n    converter: {\n      CODE: codeConverter,\n      KBD: codeConverter,\n      SAMP: codeConverter\n    }\n  };\n};\n","/*\n * Copyright (C) 2018 Alasdair Mercer, !ninja\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n'use strict';\n\nconst frameConverter = {\n  startTag(conversion, context) {\n    context.previousWindow = conversion.window;\n\n    const window = conversion.element.contentWindow;\n\n    if (window) {\n      conversion.window = window;\n\n      conversion.convertElement(window.document.body);\n    }\n\n    return false;\n  },\n  endTag(conversion, context) {\n    conversion.window = context.previousWindow;\n  }\n};\n\nmodule.exports = function() {\n  return {\n    converter: {\n      FRAME: frameConverter,\n      IFRAME: frameConverter\n    }\n  };\n};\n","/*\n * Copyright (C) 2018 Alasdair Mercer, !ninja\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n'use strict';\n\nconst headingConverter = {\n  startTag(conversion, context) {\n    const level = parseInt(conversion.tagName.match(/([1-6])$/)[1], 10);\n\n    conversion.appendParagraph();\n\n    let heading = '';\n    for (let i = 0; i < level; i++) {\n      heading += '#';\n    }\n\n    conversion.output(`${heading} `);\n\n    return true;\n  }\n};\n\nmodule.exports = function() {\n  return {\n    converter: {\n      H1: headingConverter,\n      H2: headingConverter,\n      H3: headingConverter,\n      H4: headingConverter,\n      H5: headingConverter,\n      H6: headingConverter\n    }\n  };\n};\n","/*\n * Copyright (C) 2018 Alasdair Mercer, !ninja\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n'use strict';\n\nconst contextKey = 'europaPluginStandardImage';\n\nmodule.exports = function() {\n  return {\n    converter: {\n      IMG: {\n        startTag(conversion, context) {\n          const { element, options } = conversion;\n          const source = options.absolute ? element.src : element.getAttribute('src');\n          if (!source) {\n            return false;\n          }\n\n          const alternativeText = element.getAttribute('alt') || '';\n          const { imageMap, images } = conversion.context[contextKey];\n          const title = element.getAttribute('title');\n          let value = title ? `${source} \"${title}\"` : source;\n          let index;\n\n          if (options.inline) {\n            value = `(${value})`;\n          } else {\n            index = imageMap[value];\n            if (index == null) {\n              index = images.push(value) - 1;\n\n              imageMap[value] = index;\n            }\n\n            value = `[image${index}]`;\n          }\n\n          conversion.output(`![${alternativeText}]${value}`);\n\n          return false;\n        }\n      }\n    },\n\n    startConversion(conversion) {\n      conversion.context[contextKey] = {\n        imageMap: {},\n        images: []\n      };\n    },\n\n    endConversion(conversion) {\n      const { images } = conversion.context[contextKey];\n      if (!images.length) {\n        return;\n      }\n\n      conversion.append('\\n\\n');\n\n      for (let i = 0; i < images.length; i++) {\n        conversion.append(`[image${i}]: ${images[i]}\\n`);\n      }\n    }\n  };\n};\n","/*\n * Copyright (C) 2018 Alasdair Mercer, !ninja\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n'use strict';\n\nfunction leftPad(string, times, padding) {\n  if (string == null) {\n    string = '';\n  }\n  if (times == null) {\n    times = 0;\n  }\n\n  for (let i = 0; i < times; i++) {\n    string = ` ${string}`;\n  }\n\n  return string;\n}\n\nmodule.exports = function() {\n  return {\n    converter: {\n      LI: {\n        startTag(conversion, context) {\n          const value = conversion.inOrderedList ? `${conversion.listIndex++}. ` : '* ';\n\n          if (!conversion.atLeft) {\n            conversion.append(conversion.left.replace(/[ ]{2,4}$/, '\\n'));\n\n            conversion.atLeft = true;\n            conversion.atNoWhiteSpace = true;\n            conversion.atParagraph = true;\n          } else if (conversion.last) {\n            conversion.last = conversion.last.replace(/[ ]{2,4}$/, '\\n');\n          }\n\n          conversion.append(leftPad(value, (conversion.listDepth - 1) * 2));\n\n          return true;\n        }\n      },\n      OL: {\n        startTag(conversion, context) {\n          context.previousInOrderedList = conversion.inOrderedList;\n          context.previousListIndex = conversion.listIndex;\n\n          if (conversion.listDepth === 0) {\n            conversion.appendParagraph();\n          }\n\n          conversion.inOrderedList = true;\n          conversion.listIndex = 1;\n          conversion.listDepth++;\n\n          return true;\n        },\n\n        endTag(conversion, context) {\n          conversion.inOrderedList = context.previousInOrderedList;\n          conversion.listIndex = context.previousListIndex;\n          conversion.listDepth--;\n        }\n      },\n      UL: {\n        startTag(conversion, context) {\n          context.previousInOrderedList = conversion.inOrderedList;\n          context.previousListIndex = conversion.listIndex;\n\n          if (conversion.listDepth === 0) {\n            conversion.appendParagraph();\n          }\n\n          conversion.inOrderedList = false;\n          conversion.listIndex = 1;\n          conversion.listDepth++;\n\n          return true;\n        },\n\n        endTag(conversion, context) {\n          conversion.inOrderedList = context.previousInOrderedList;\n          conversion.listIndex = context.previousListIndex;\n          conversion.listDepth--;\n        }\n      }\n    }\n  };\n};\n","/*\n * Copyright (C) 2018 Alasdair Mercer, !ninja\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n'use strict';\n\nconst paragraphConverter = {\n  startTag(conversion, context) {\n    conversion.appendParagraph();\n\n    return true;\n  }\n};\n\nmodule.exports = function() {\n  return {\n    converter: {\n      ADDRESS: paragraphConverter,\n      ARTICLE: paragraphConverter,\n      ASIDE: paragraphConverter,\n      DIV: paragraphConverter,\n      FIELDSET: paragraphConverter,\n      FOOTER: paragraphConverter,\n      HEADER: paragraphConverter,\n      NAV: paragraphConverter,\n      P: paragraphConverter,\n      SECTION: paragraphConverter\n    }\n  };\n};\n","/*\n * Copyright (C) 2018 Alasdair Mercer, !ninja\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n'use strict';\n\nmodule.exports = function(api) {\n  return {\n    converter: {\n      BLOCKQUOTE: api.getHelper('blockQuote')\n    }\n  };\n};\n","/*\n * Copyright (C) 2018 Alasdair Mercer, !ninja\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n'use strict';\n\nmodule.exports = function(api) {\n  const boldConverter = api.getHelper('bold');\n\n  return {\n    converter: {\n      B: boldConverter,\n      STRONG: boldConverter\n    }\n  };\n};\n","/*\n * Copyright (C) 2018 Alasdair Mercer, !ninja\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n'use strict';\n\nmodule.exports = function(api) {\n  return {\n    converter: {\n      DD: api.getHelper('blockQuote'),\n\n      DT: {\n        startTag(conversion, context) {\n          conversion.appendParagraph();\n\n          conversion.output('**');\n\n          conversion.atNoWhiteSpace = true;\n\n          return true;\n        },\n\n        endTag(conversion, context) {\n          conversion.output('**');\n        }\n      }\n    }\n  };\n};\n","/*\n * Copyright (C) 2018 Alasdair Mercer, !ninja\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n'use strict';\n\nmodule.exports = function() {\n  return {\n    converter: {\n      DETAILS: {\n        startTag(conversion, context) {\n          // TODO: Improve (summary should always be visible, when available, regardless of open state)\n          // TODO: Possible just remove special handling of SUMMARY as well\n          const { element } = conversion;\n\n          conversion.appendParagraph();\n\n          if (element.hasAttribute('open')) {\n            return true;\n          }\n\n          const summary = element.querySelector('summary');\n          conversion.convertElement(summary);\n        }\n      }\n    }\n  };\n};\n","/*\n * Copyright (C) 2018 Alasdair Mercer, !ninja\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n'use strict';\n\nmodule.exports = function() {\n  return {\n    converter: {\n      HR: {\n        startTag(conversion, context) {\n          conversion\n            .appendParagraph()\n            .output('---')\n            .appendParagraph();\n\n          return false;\n        }\n      }\n    }\n  };\n};\n","/*\n * Copyright (C) 2018 Alasdair Mercer, !ninja\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n'use strict';\n\nmodule.exports = function(api) {\n  const italicConverter = api.getHelper('italic');\n\n  return {\n    converter: {\n      CITE: italicConverter,\n      DFN: italicConverter,\n      EM: italicConverter,\n      I: italicConverter,\n      // TODO: Remove U tag\n      U: italicConverter,\n      VAR: italicConverter\n    }\n  };\n};\n","/*\n * Copyright (C) 2018 Alasdair Mercer, !ninja\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n'use strict';\n\nmodule.exports = function() {\n  return {\n    converter: {\n      BR: {\n        startTag(conversion, context) {\n          conversion.append(`  ${conversion.left}`);\n\n          conversion.atLeft = true;\n          conversion.atNoWhiteSpace = true;\n\n          return false;\n        }\n      }\n    }\n  };\n};\n","/*\n * Copyright (C) 2018 Alasdair Mercer, !ninja\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n'use strict';\n\nmodule.exports = function() {\n  return {\n    converter: {\n      PRE: {\n        startTag(conversion, context) {\n          const value = '    ';\n\n          context.previousInPreformattedBlock = conversion.inPreformattedBlock;\n          context.previousLeft = conversion.left;\n          conversion.left += value;\n\n          if (conversion.atParagraph) {\n            conversion.append(value);\n          } else {\n            conversion.appendParagraph();\n          }\n\n          return true;\n        },\n\n        endTag(conversion, context) {\n          conversion.atLeft = false;\n          conversion.atParagraph = false;\n          conversion.inPreformattedBlock = context.previousInPreformattedBlock;\n          conversion.left = context.previousLeft;\n\n          conversion.appendParagraph();\n        }\n      }\n    }\n  };\n};\n","/*\n * Copyright (C) 2018 Alasdair Mercer, !ninja\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n'use strict';\n\nmodule.exports = function() {\n  return {\n    converter: {\n      Q: {\n        startTag(conversion, context) {\n          conversion.output('\"');\n\n          conversion.atNoWhiteSpace = true;\n\n          return true;\n        },\n\n        endTag(conversion, context) {\n          conversion.output('\"');\n        }\n      }\n    }\n  };\n};\n"],"names":["contextKey","codeConverter","conversion","context","previousInCodeBlock","inCodeBlock","inPreformattedBlock","skipped","output","frameConverter","previousWindow","window","element","contentWindow","convertElement","document","body","headingConverter","level","parseInt","tagName","match","appendParagraph","heading","i","paragraphConverter","options","href","absolute","getAttribute","anchorMap","anchors","title","value","index","inline","push","atNoWhiteSpace","length","append","api","getHelper","boldConverter","hasAttribute","summary","querySelector","source","src","alternativeText","imageMap","images","italicConverter","left","atLeft","inOrderedList","listIndex","last","replace","atParagraph","string","times","padding","leftPad","listDepth","previousInOrderedList","previousListIndex","previousInPreformattedBlock","previousLeft"],"mappings":"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"}