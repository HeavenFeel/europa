/*! europa-preset-standard v4.0.0 | (C) 2018 Alasdair Mercer, !ninja | MIT License */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.europaPresetStandard={})}(this,function(t){"use strict";var e="europaPluginStandardAnchor",n={startTag:function(t,e){return e.previousInCodeBlock=t.inCodeBlock,t.inPreformattedBlock?e.skipped=!0:(t.output("`"),t.inCodeBlock=!0),!0},endTag:function(t,e){e.skipped||(t.inCodeBlock=e.previousInCodeBlock,t.output("`"))}},r={startTag:function(t,e){e.previousWindow=t.window;var n=t.element.contentWindow;return n&&(t.window=n,t.convertElement(n.document.body)),!1},endTag:function(t,e){t.window=e.previousWindow}},a={startTag:function(t,e){var n=parseInt(t.tagName.match(/([1-6])$/)[1],10);t.appendParagraph();for(var r="",a=0;a<n;a++)r+="#";return t.output(r+" "),!0}},o="europaPluginStandardImage";var i={startTag:function(t,e){return t.appendParagraph(),!0}},u={plugins:[function(){return{converter:{A:{startTag:function(t,n){var r=t.element,a=t.options,o=a.absolute?r.href:r.getAttribute("href");if(!o)return!0;var i=t.context[e],u=i.anchorMap,p=i.anchors,c=r.getAttribute("title"),d=c?o+' "'+c+'"':o,s=void 0;return a.inline?n.value="("+d+")":(null==(s=u[d])&&(s=p.push(d)-1,u[d]=s),n.value="[anchor"+s+"]"),t.output("["),t.atNoWhiteSpace=!0,!0},endTag:function(t,e){null!=e.value&&t.output("]"+e.value)}}},startConversion:function(t){t.context[e]={anchorMap:{},anchors:[]}},endConversion:function(t){var n=t.context[e].anchors;if(n.length){t.append("\n\n");for(var r=0;r<n.length;r++)t.append("[anchor"+r+"]: "+n[r]+"\n")}}}},function(t){return{converter:{BLOCKQUOTE:t.getHelper("blockQuote")}}},function(t){var e=t.getHelper("bold");return{converter:{B:e,STRONG:e}}},function(){return{converter:{CODE:n,KBD:n,SAMP:n}}},function(t){return{converter:{DD:t.getHelper("blockQuote"),DT:{startTag:function(t,e){return t.appendParagraph(),t.output("**"),t.atNoWhiteSpace=!0,!0},endTag:function(t,e){t.output("**")}}}}},function(){return{converter:{DETAILS:{startTag:function(t,e){var n=t.element;if(t.appendParagraph(),n.hasAttribute("open"))return!0;var r=n.querySelector("summary");t.convertElement(r)}}}}},function(){return{converter:{FRAME:r,IFRAME:r}}},function(){return{converter:{H1:a,H2:a,H3:a,H4:a,H5:a,H6:a}}},function(){return{converter:{HR:{startTag:function(t,e){return t.appendParagraph().output("---").appendParagraph(),!1}}}}},function(){return{converter:{IMG:{startTag:function(t,e){var n=t.element,r=t.options,a=r.absolute?n.src:n.getAttribute("src");if(!a)return!1;var i=n.getAttribute("alt")||"",u=t.context[o],p=u.imageMap,c=u.images,d=n.getAttribute("title"),s=d?a+' "'+d+'"':a,f=void 0;return r.inline?s="("+s+")":(null==(f=p[s])&&(f=c.push(s)-1,p[s]=f),s="[image"+f+"]"),t.output("!["+i+"]"+s),!1}}},startConversion:function(t){t.context[o]={imageMap:{},images:[]}},endConversion:function(t){var e=t.context[o].images;if(e.length){t.append("\n\n");for(var n=0;n<e.length;n++)t.append("[image"+n+"]: "+e[n]+"\n")}}}},function(t){var e=t.getHelper("italic");return{converter:{CITE:e,DFN:e,EM:e,I:e,U:e,VAR:e}}},function(){return{converter:{BR:{startTag:function(t,e){return t.append("  "+t.left),t.atLeft=!0,t.atNoWhiteSpace=!0,!1}}}}},function(){return{converter:{LI:{startTag:function(t,e){var n=t.inOrderedList?t.listIndex+++". ":"* ";return t.atLeft?t.last&&(t.last=t.last.replace(/[ ]{2,4}$/,"\n")):(t.append(t.left.replace(/[ ]{2,4}$/,"\n")),t.atLeft=!0,t.atNoWhiteSpace=!0,t.atParagraph=!0),t.append(function(t,e,n){null==t&&(t=""),null==e&&(e=0);for(var r=0;r<e;r++)t=" "+t;return t}(n,2*(t.listDepth-1))),!0}},OL:{startTag:function(t,e){return e.previousInOrderedList=t.inOrderedList,e.previousListIndex=t.listIndex,0===t.listDepth&&t.appendParagraph(),t.inOrderedList=!0,t.listIndex=1,t.listDepth++,!0},endTag:function(t,e){t.inOrderedList=e.previousInOrderedList,t.listIndex=e.previousListIndex,t.listDepth--}},UL:{startTag:function(t,e){return e.previousInOrderedList=t.inOrderedList,e.previousListIndex=t.listIndex,0===t.listDepth&&t.appendParagraph(),t.inOrderedList=!1,t.listIndex=1,t.listDepth++,!0},endTag:function(t,e){t.inOrderedList=e.previousInOrderedList,t.listIndex=e.previousListIndex,t.listDepth--}}}}},function(){return{converter:{ADDRESS:i,ARTICLE:i,ASIDE:i,DIV:i,FIELDSET:i,FOOTER:i,HEADER:i,NAV:i,P:i,SECTION:i}}},function(){return{converter:{PRE:{startTag:function(t,e){return e.previousInPreformattedBlock=t.inPreformattedBlock,e.previousLeft=t.left,t.left+="    ",t.atParagraph?t.append("    "):t.appendParagraph(),!0},endTag:function(t,e){t.atLeft=!1,t.atParagraph=!1,t.inPreformattedBlock=e.previousInPreformattedBlock,t.left=e.previousLeft,t.appendParagraph()}}}}},function(){return{converter:{Q:{startTag:function(t,e){return t.output('"'),t.atNoWhiteSpace=!0,!0},endTag:function(t,e){t.output('"')}}}}}]},p=u.plugins;t.default=u,t.plugins=p,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=europa-preset-standard.min.js.map
